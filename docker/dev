FROM ubuntu:14.04
MAINTAINER "jonathan@stoppani.name"

# Setup environment
ENV DEBIAN_FRONTEND noninteractive
RUN /usr/sbin/locale-gen en_US.UTF-8 && \
	/usr/sbin/update-locale LANG=en_US.UTF-8 LC_ALL=en_US.UTF-8
ENV LANGUAGE en_US.UTF-8
ENV LANG en_US.UTF-8
ENV LC_ALL en_US.UTF-8
ENV DOCKER 1

# Update the system and add additional sources
RUN /usr/bin/apt-get update && \
	/usr/bin/apt-get -y upgrade

# Install dependencies
RUN /usr/bin/apt-get install -y \
	python3-dev python3-pip \
	libxml2-dev libxslt1-dev \
#	libjpeg-dev libjpeg8-dev \
#	libfreetype6-dev \
#	zlib1g-dev libpng12-dev \
#	libtiff4-dev \
#	liblcms2-dev libwebp-dev \
#	tcl8.6-dev tk8.6-dev python-tk \
#	libmysqlclient-dev \
	git

# Install requirements here so that we don't have to install them each time
# the app changes
ADD requirements*.txt /src/
RUN pip3 install -r /src/requirements-dev.txt

# Install the app
# ADD . /src

# Configure runtime environment
# USER nobody
